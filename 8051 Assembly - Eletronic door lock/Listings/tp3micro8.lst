A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\tp3micro8.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE tp3micro8.a51 NOMOD51 SET(SMALL) DEBUG PRINT(.\Listings\tp3micro8.lst) 
                      OBJECT(.\Objects\tp3micro8.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;#include <REG51F380.H>
                +1     2     
                +1     3     
                +1     4     
                +1     5     
                +1     6     
                +1     7     
                +1     8     
                +1     9     
                +1    10     
                +1    11     
                +1    12     
                +1    13     
                +1    14     
  0080          +1    15     sfr P0          = 0x80;          /* Port 0 Latch                             */
  0081          +1    16     sfr SP          = 0x81;          /* Stack Pointer                            */
  0082          +1    17     sfr DPL         = 0x82;          /* Data Pointer Low                         */
  0083          +1    18     sfr DPH         = 0x83;          /* Data Pointer High                        */
  0084          +1    19     sfr EMI0TC      = 0x84;          /* External Memory Interface Timing         */
  0085          +1    20     sfr EMI0CF      = 0x85;          /* External Memory Interface Configuration  */
  0086          +1    21     sfr OSCLCN      = 0x86;          /* Internal Low-Frequency Oscillator Control*/
  0087          +1    22     sfr PCON        = 0x87;          /* Power Control                            */
  0088          +1    23     sfr TCON        = 0x88;          /* Timer/Counter Control                    */
  0089          +1    24     sfr TMOD        = 0x89;          /* Timer/Counter Mode                       */
  008A          +1    25     sfr TL0         = 0x8A;          /* Timer/Counter 0 Low                      */
  008B          +1    26     sfr TL1         = 0x8B;          /* Timer/Counter 1 Low                      */
  008C          +1    27     sfr TH0         = 0x8C;          /* Timer/Counter 0 High                     */
  008D          +1    28     sfr TH1         = 0x8D;          /* Timer/Counter 1 High                     */
  008E          +1    29     sfr CKCON       = 0x8E;          /* Clock Control                            */
  008F          +1    30     sfr PSCTL       = 0x8F;          /* Program Store R/W Control                */
  0090          +1    31     sfr P1          = 0x90;          /* Port 1 Latch                             */
  0091          +1    32     sfr TMR3CN      = 0x91;          /* Timer/Counter 3 Control         (page 0) */
  0092          +1    33     sfr TMR3RLL     = 0x92;          /* Timer/Counter 3 Reload Low      (page 0) */
  0093          +1    34     sfr TMR3RLH     = 0x93;          /* Timer/Counter 3 Reload High     (page 0) */
  0094          +1    35     sfr TMR3L       = 0x94;          /* Timer/Counter 3 Low                      */
  0095          +1    36     sfr TMR3H       = 0x95;          /* Timer/Counter 3 High                     */
  0096          +1    37     sfr USB0ADR     = 0x96;          /* USB0 Indirect Address Register           */
  0097          +1    38     sfr USB0DAT     = 0x97;          /* USB0 Data Register                       */
  0091          +1    39     sfr TMR4CN      = 0x91;          /* Timer/Counter 4 Control         (page F) */
  0092          +1    40     sfr TMR4RLL     = 0x92;          /* Timer/Counter 4 Reload Low      (page F) */
  0093          +1    41     sfr TMR4RLH     = 0x93;          /* Timer/Counter 4 Reload High     (page F) */
  0098          +1    42     sfr SCON0       = 0x98;          /* UART0 Control                            */
  0099          +1    43     sfr SBUF0       = 0x99;          /* UART0 Data Buffer                        */
  009A          +1    44     sfr CPT1CN      = 0x9A;          /* Comparator 1 Control                     */
  009B          +1    45     sfr CPT0CN      = 0x9B;          /* Comparator 0 Control                     */
  009C          +1    46     sfr CPT1MD      = 0x9C;          /* Comparator 1 Mode                        */
  009D          +1    47     sfr CPT0MD      = 0x9D;          /* Comparator 0 Mode                        */
  009E          +1    48     sfr CPT1MX      = 0x9E;          /* Comparator 1 Mux                         */
  009F          +1    49     sfr CPT0MX      = 0x9F;          /* Comparator 0 Mux                         */
  00A0          +1    50     sfr P2          = 0xA0;          /* Port 2 Latch                             */
  00A1          +1    51     sfr SPI0CFG     = 0xA1;          /* SPI0 Configuration                       */
  00A2          +1    52     sfr SPI0CKR     = 0xA2;          /* SPI0 Clock rate control                  */
  00A3          +1    53     sfr SPI0DAT     = 0xA3;          /* SPI0 Data Buffer                         */
  00A4          +1    54     sfr P0MDOUT     = 0xA4;          /* Port 0 Output Mode                       */
  00A5          +1    55     sfr P1MDOUT     = 0xA5;          /* Port 1 Output Mode                       */
  00A6          +1    56     sfr P2MDOUT     = 0xA6;          /* Port 2 Output Mode                       */
  00A7          +1    57     sfr P3MDOUT     = 0xA7;          /* Port 3 Output Mode                       */
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE     2

  00A8          +1    58     sfr IE          = 0xA8;          /* Interrupt Enable                         */
  00A9          +1    59     sfr CLKSEL      = 0xA9;          /* Clock Select                             */
  00AA          +1    60     sfr EMI0CN      = 0xAA;          /* EMIF control                             */
  00AC          +1    61     sfr SBCON1      = 0xAC;          /* UART1 Baud Rate Generator Control        */
  00AE          +1    62     sfr P4MDOUT     = 0xAE;          /* Port 4 Mode                              */
  00AF          +1    63     sfr PFE0CN      = 0xAF;          /* Prefetch Engine Control                  */
  00B0          +1    64     sfr P3          = 0xB0;          /* Port 3 Latch                             */
  00B1          +1    65     sfr OSCXCN      = 0xB1;          /* External Oscillator Control              */
  00B2          +1    66     sfr OSCICN      = 0xB2;          /* Internal Oscillator Control              */
  00B3          +1    67     sfr OSCICL      = 0xB3;          /* Internal Oscillator Calibration          */
  00B4          +1    68     sfr SBRLL1      = 0xB4;          /* UART1 Baud Rate Generator Low            */
  00B5          +1    69     sfr SBRLH1      = 0xB5;          /* UART1 Baud Rate Generator High           */
  00B6          +1    70     sfr FLSCL       = 0xB6;          /* Flash Scale                              */
  00B7          +1    71     sfr FLKEY       = 0xB7;          /* Flash Lock and Key                       */
  00B8          +1    72     sfr IP          = 0xB8;          /* Interrupt Priority                       */
  00B9          +1    73     sfr CLKMUL      = 0xB9;          /* Clock Multiplier                (page 0) */
  00BA          +1    74     sfr AMX0N       = 0xBA;          /* AMUX0 Negative Channel Select            */
  00BB          +1    75     sfr AMX0P       = 0xBB;          /* AMUX0 Positive Channel Select            */
  00BC          +1    76     sfr ADC0CF      = 0xBC;          /* ADC0 Configuration              (page 0) */
  00BD          +1    77     sfr ADC0L       = 0xBD;          /* ADC0 Low                                 */
  00BE          +1    78     sfr ADC0H       = 0xBE;          /* ADC0 High                                */
  00BF          +1    79     sfr SFRPAGE     = 0xBF;          /* SFR Page Select                          */
  00B9          +1    80     sfr SMBTC       = 0xB9;          /* SMBus0/1 Timing Control         (page F) */
  00C0          +1    81     sfr SMB0CN      = 0xC0;          /* SMBus0 Control                  (page 0) */
  00C1          +1    82     sfr SMB0CF      = 0xC1;          /* SMBus0 Configuration            (page 0) */
  00C2          +1    83     sfr SMB0DAT     = 0xC2;          /* SMBus0 Data                     (page 0) */
  00C3          +1    84     sfr ADC0GTL     = 0xC3;          /* ADC0 Greater-Than Compare Low            */
  00C4          +1    85     sfr ADC0GTH     = 0xC4;          /* ADC0 Greater-Than Compare High           */
  00C5          +1    86     sfr ADC0LTL     = 0xC5;          /* ADC0 Less-Than Compare Word Low          */
  00C6          +1    87     sfr ADC0LTH     = 0xC6;          /* ADC0 Less-Than Compare Word High         */
  00C7          +1    88     sfr P4          = 0xC7;          /* Port 4 Latch                             */
  00C0          +1    89     sfr SMB1CN      = 0xC0;          /* SMBus1 Control                  (page F) */
  00C1          +1    90     sfr SMB1CF      = 0xC1;          /* SMBus1 Configuration            (page F) */
  00C2          +1    91     sfr SMB1DAT     = 0xC2;          /* SMBus1 Data                     (page F) */
  00C8          +1    92     sfr TMR2CN      = 0xC8;          /* Timer/Counter 2 Control         (page 0) */
  00C9          +1    93     sfr REG01CN     = 0xC9;          /* Regulator Control               (page 0) */
  00CA          +1    94     sfr TMR2RLL     = 0xCA;          /* Timer/Counter 2 Reload Low      (page 0) */
  00CB          +1    95     sfr TMR2RLH     = 0xCB;          /* Timer/Counter 2 Reload High     (page 0) */
  00CC          +1    96     sfr TMR2L       = 0xCC;          /* Timer/Counter 2 Low             (page 0) */
  00CD          +1    97     sfr TMR2H       = 0xCD;          /* Timer/Counter 2 High            (page 0) */
  00CE          +1    98     sfr SMB0ADM     = 0xCE;          /* SMBus0 Address Mask             (page 0) */
  00CF          +1    99     sfr SMB0ADR     = 0xCF;          /* SMBus0 Address                  (page 0) */
  00C8          +1   100     sfr TMR5CN      = 0xC8;          /* Timer/Counter 5 Control         (page F) */
  00CA          +1   101     sfr TMR5RLL     = 0xCA;          /* Timer/Counter 5 Reload Low      (page F) */
  00CB          +1   102     sfr TMR5RLH     = 0xCB;          /* Timer/Counter 5 Reload High     (page F) */
  00CC          +1   103     sfr TMR5L       = 0xCC;          /* Timer/Counter 5 Low             (page F) */
  00CD          +1   104     sfr TMR5H       = 0xCD;          /* Timer/Counter 5 High            (page F) */
  00CE          +1   105     sfr SMB1ADM     = 0xCE;          /* SMBus1 Address Mask             (page F) */
  00CF          +1   106     sfr SMB1ADR     = 0xCF;          /* SMBus1 Address                  (page F) */
  00D0          +1   107     sfr PSW         = 0xD0;          /* Program Status Word                      */
  00D1          +1   108     sfr REF0CN      = 0xD1;          /* Voltage Reference Control                */
  00D2          +1   109     sfr SCON1       = 0xD2;          /* UART1 Control                            */
  00D3          +1   110     sfr SBUF1       = 0xD3;          /* UART1 Data Buffer                        */
  00D4          +1   111     sfr P0SKIP      = 0xD4;          /* Port 0 Skip                              */
  00D5          +1   112     sfr P1SKIP      = 0xD5;          /* Port 1 Skip                              */
  00D6          +1   113     sfr P2SKIP      = 0xD6;          /* Port 2 Skip                              */
  00D7          +1   114     sfr USB0XCN     = 0xD7;          /* USB0 Transceiver Control                 */
  00D8          +1   115     sfr PCA0CN      = 0xD8;          /* PCA0 Control                             */
  00D9          +1   116     sfr PCA0MD      = 0xD9;          /* PCA0 Mode                                */
  00DA          +1   117     sfr PCA0CPM0    = 0xDA;          /* PCA Module 0 Mode Register               */
  00DB          +1   118     sfr PCA0CPM1    = 0xDB;          /* PCA Module 1 Mode Register               */
  00DC          +1   119     sfr PCA0CPM2    = 0xDC;          /* PCA Module 2 Mode Register               */
  00DD          +1   120     sfr PCA0CPM3    = 0xDD;          /* PCA Module 3 Mode Register               */
  00DE          +1   121     sfr PCA0CPM4    = 0xDE;          /* PCA Module 4 Mode Register               */
  00DF          +1   122     sfr P3SKIP      = 0xDF;          /* Port 3 Skip                              */
  00E0          +1   123     sfr ACC         = 0xE0;          /* Accumulator                              */
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE     3

  00E1          +1   124     sfr XBR0        = 0xE1;          /* Port I/O Crossbar Control 0              */
  00E2          +1   125     sfr XBR1        = 0xE2;          /* Port I/O Crossbar Control 1              */
  00E3          +1   126     sfr XBR2        = 0xE3;          /* Port I/O Crossbar Control 2              */
  00E4          +1   127     sfr IT01CF      = 0xE4;          /* INT0/INT1 Configuration         (page 0) */
  00E5          +1   128     sfr SMOD1       = 0xE5;          /* UART1 Mode                               */
  00E6          +1   129     sfr EIE1        = 0xE6;          /* Extended Interrupt Enable 2              */
  00E7          +1   130     sfr EIE2        = 0xE7;          /* Extended Interrupt Enable 2              */
  00E4          +1   131     sfr CKCON1      = 0xE4;          /* Clock Control 1                 (page F) */
  00E8          +1   132     sfr ADC0CN      = 0xE8;          /* ADC0 Control                             */
  00E9          +1   133     sfr PCA0CPL1    = 0xE9;          /* PCA0 Capture 2 Low                       */
  00EA          +1   134     sfr PCA0CPH1    = 0xEA;          /* PCA0 Capture 2 High                      */
  00EB          +1   135     sfr PCA0CPL2    = 0xEB;          /* PCA0 Capture 3 Low                       */
  00EC          +1   136     sfr PCA0CPH2    = 0xEC;          /* PCA0 Capture 3 High                      */
  00ED          +1   137     sfr PCA0CPL3    = 0xED;          /* PCA0 Capture 4 Low                       */
  00EE          +1   138     sfr PCA0CPH3    = 0xEE;          /* PCA0 Capture 4 High                      */
  00EF          +1   139     sfr RSTSRC      = 0xEF;          /* Reset Source Configuration/Status        */
  00F0          +1   140     sfr B           = 0xF0;          /* B Register                               */
  00F1          +1   141     sfr P0MDIN      = 0xF1;          /* Port 0 Input Mode                        */
  00F2          +1   142     sfr P1MDIN      = 0xF2;          /* Port 1 Input Mode                        */
  00F3          +1   143     sfr P2MDIN      = 0xF3;          /* Port 2 Input Mode                        */
  00F4          +1   144     sfr P3MDIN      = 0xF4;          /* Port 3 Input Mode                        */
  00F5          +1   145     sfr P4MDIN      = 0xF5;          /* Port 4 Input Mode                        */
  00F6          +1   146     sfr EIP1        = 0xF6;          /* External Interrupt Priority 1            */
  00F7          +1   147     sfr EIP2        = 0xF7;          /* External Interrupt Priority 2            */
  00F8          +1   148     sfr SPI0CN      = 0xF8;          /* SPI0 Control                             */
  00F9          +1   149     sfr PCA0L       = 0xF9;          /* PCA0 Counter Low                         */
  00FA          +1   150     sfr PCA0H       = 0xFA;          /* PCA0 Counter High                        */
  00FB          +1   151     sfr PCA0CPL0    = 0xFB;          /* PCA0 Capture 0 Low                       */
  00FC          +1   152     sfr PCA0CPH0    = 0xFC;          /* PCA0 Capture 0 High                      */
  00FD          +1   153     sfr PCA0CPL4    = 0xFD;          /* PCA0 Capture 4 Low                       */
  00FE          +1   154     sfr PCA0CPH4    = 0xFE;          /* PCA0 Capture 4 High                      */
  00FF          +1   155     sfr VDM0CN      = 0xFF;          /* VDD Monitor Control                      */
                +1   156     
                +1   157     
                +1   158     sfr16 DP        = 0x82;          /* Data pointer                             */
                +1   159     sfr16 TMR3RL    = 0x92;          /* Timer 3 reload register                  */
                +1   160     sfr16 TMR4RL    = 0x92;          /* Timer 4 reload register         (page F) */
                +1   161     sfr16 TMR3      = 0x94;          /* Timer 3 register                         */
                +1   162     sfr16 TMR4      = 0x94;          /* Timer 4 register                (page F) */
                +1   163     sfr16 SBRL1     = 0xB4;          /* UART1 Baud Rate Generator                */
                +1   164     sfr16 ADC0      = 0xBD;          /* ADC 0 data                               */
                +1   165     sfr16 ADC0GT    = 0xC3;          /* ADC 0 greater than compare               */
                +1   166     sfr16 ADC0LT    = 0xC5;          /* ADC 0 less than compare                  */
                +1   167     sfr16 TMR2RL    = 0xCA;          /* Timer\Counter 2 reload data              */
                +1   168     sfr16 TMR5RL    = 0xCA;          /* Timer\Counter 5 reload data     (page F) */
                +1   169     sfr16 TMR2      = 0xCC;          /* Timer\Counter 2 data                     */
                +1   170     sfr16 TMR5      = 0xCC;          /* Timer\Counter 5 data                     */
                +1   171     sfr16 PCA0CP1   = 0xE9;          /* PCA module 1 capture/compare data        */
                +1   172     sfr16 PCA0CP2   = 0xEB;          /* PCA module 2 capture/compare data        */
                +1   173     sfr16 PCA0CP3   = 0xED;          /* PCA module 3 capture/compare data        */
                +1   174     sfr16 PCA0      = 0xF9;          /* PCA 0 counter data                       */
                +1   175     sfr16 PCA0CP0   = 0xFB;          /* PCA 0 capture data                       */
                +1   176     sfr16 PCA0CP4   = 0xFD;          /* PCA 4 capture data                       */
                +1   177     
                +1   178     
                +1   179     
  008F          +1   180     sbit TF1      = TCON^7;            /* Timer 1 Overflow Flag                  */
  008E          +1   181     sbit TR1      = TCON^6;            /* Timer 1 On/Off Control                 */
  008D          +1   182     sbit TF0      = TCON^5;            /* Timer 0 Overflow Flag                  */
  008C          +1   183     sbit TR0      = TCON^4;            /* Timer 0 On/Off Control                 */
  008B          +1   184     sbit IE1      = TCON^3;            /* Ext. Interrupt 1 Edge Flag             */
  008A          +1   185     sbit IT1      = TCON^2;            /* Ext. Interrupt 1 Type                  */
  0089          +1   186     sbit IE0      = TCON^1;            /* Ext. Interrupt 0 Edge Flag             */
  0088          +1   187     sbit IT0      = TCON^0;            /* Ext. Interrupt 0 Type                  */
                +1   188     
                +1   189     
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE     4

  009F          +1   190     sbit S0MODE   = SCON0^7;           /* Serial Port 0 Operation Mode           */
                +1   191                                        
  009D          +1   192     sbit MCE0     = SCON0^5;           /* Multiprocessor Communication Enable    */
  009C          +1   193     sbit REN0     = SCON0^4;           /* UART0 RX Enable                        */
  009B          +1   194     sbit TB80     = SCON0^3;           /* Ninth Transmission Bit                 */
  009A          +1   195     sbit RB80     = SCON0^2;           /* Ninth Receive Bit                      */
  0099          +1   196     sbit TI0      = SCON0^1;           /* UART0 TX Interrupt Flag                */
  0098          +1   197     sbit RI0      = SCON0^0;           /* UART0 RX Interrupt Flag                */
                +1   198     
                +1   199     
  00AF          +1   200     sbit EA       = IE^7;              /* Global Interrupt Enable                */
  00AE          +1   201     sbit ESPI0    = IE^6;              /* SPI0 Interrupt Enable                  */
  00AD          +1   202     sbit ET2      = IE^5;              /* Timer 2 Interrupt Enable               */
  00AC          +1   203     sbit ES0      = IE^4;              /* UART0 Interrupt Enable                 */
  00AB          +1   204     sbit ET1      = IE^3;              /* Timer 1 Interrupt Enable               */
  00AA          +1   205     sbit EX1      = IE^2;              /* External Interrupt 1 Enable            */
  00A9          +1   206     sbit ET0      = IE^1;              /* Timer 0 Interrupt Enable               */
  00A8          +1   207     sbit EX0      = IE^0;              /* External Interrupt 0 Enable            */
                +1   208     
                +1   209     
                +1   210                                        
  00BE          +1   211     sbit PSPI0    = IP^6;              /* SPI0 Interrupt Priority                */
  00BD          +1   212     sbit PT2      = IP^5;              /* Timer 2 Priority                       */
  00BC          +1   213     sbit PS0      = IP^4;              /* UART0 Priority                         */
  00BB          +1   214     sbit PT1      = IP^3;              /* Timer 1 Priority                       */
  00BA          +1   215     sbit PX1      = IP^2;              /* External Interrupt 1 Priority          */
  00B9          +1   216     sbit PT0      = IP^1;              /* Timer 0 Priority                       */
  00B8          +1   217     sbit PX0      = IP^0;              /* External Interrupt 0 Priority          */
                +1   218     
                +1   219     
  00C7          +1   220     sbit MASTER0  = SMB0CN^7;          /* SMBus0 Master/Slave Indicator          */
  00C6          +1   221     sbit TXMODE0  = SMB0CN^6;          /* SMBus0 Transmit Mode Indicator         */
  00C5          +1   222     sbit STA0     = SMB0CN^5;          /* SMBus0 Start Flag                      */
  00C4          +1   223     sbit STO0     = SMB0CN^4;          /* SMBus0 Stop Flag                       */
  00C3          +1   224     sbit ACKRQ0   = SMB0CN^3;          /* SMBus0 Acknowledge Request             */
  00C2          +1   225     sbit ARBLOST0 = SMB0CN^2;          /* SMBus0 Arbitration Lost Indicator      */
  00C1          +1   226     sbit ACK0     = SMB0CN^1;          /* SMBus0 Acknowledge                     */
  00C0          +1   227     sbit SI0      = SMB0CN^0;          /* SMBus0 Interrupt Flag                  */
                +1   228     
                +1   229     
  00C7          +1   230     sbit MASTER1  = SMB1CN^7;          /* SMBus1 Master/Slave Indicator          */
  00C6          +1   231     sbit TXMODE1  = SMB1CN^6;          /* SMBus1 Transmit Mode Indicator         */
  00C5          +1   232     sbit STA1     = SMB1CN^5;          /* SMBus1 Start Flag                      */
  00C4          +1   233     sbit STO1     = SMB1CN^4;          /* SMBus1 Stop Flag                       */
  00C3          +1   234     sbit ACKRQ1   = SMB1CN^3;          /* SMBus1 Acknowledge Request             */
  00C2          +1   235     sbit ARBLOST1 = SMB1CN^2;          /* SMBus1 Arbitration Lost Indicator      */
  00C1          +1   236     sbit ACK1     = SMB1CN^1;          /* SMBus1 Acknowledge                     */
  00C0          +1   237     sbit SI1      = SMB1CN^0;          /* SMBus1 Interrupt Flag                  */
                +1   238     
                +1   239     
  00CF          +1   240     sbit TF2H     = TMR2CN^7;          /* Timer 2 High-Byte Overflow Flag        */
  00CE          +1   241     sbit TF2L     = TMR2CN^6;          /* Timer 2 Low-Byte  Overflow Flag        */
  00CD          +1   242     sbit TF2LEN   = TMR2CN^5;          /* Timer 2 Low-Byte Flag Enable           */
  00CC          +1   243     sbit TF2CEN   = TMR2CN^4;          /* Timer 2 Capture Enable                 */
  00CB          +1   244     sbit T2SPLIT  = TMR2CN^3;          /* Timer 2 Split-Mode Enable              */
  00CA          +1   245     sbit TR2      = TMR2CN^2;          /* Timer2 Run Enable                      */
  00C9          +1   246     sbit T2CSS    = TMR2CN^1;          /* Timer 2 Capture Source Select          */
  00C8          +1   247     sbit T2XCLK   = TMR2CN^0;          /* Timer 2 Clk/8 Clock Source             */
                +1   248     
                +1   249     
  00CF          +1   250     sbit TF5H     = TMR5CN^7;          /* Timer 5 High-Byte Overflow Flag        */
  00CE          +1   251     sbit TF5L     = TMR5CN^6;          /* Timer 5 Low-Byte  Overflow Flag        */
  00CD          +1   252     sbit TF5LEN   = TMR5CN^5;          /* Timer 5 Low-Byte Flag Enable           */
                +1   253                                        
  00CB          +1   254     sbit T5SPLIT  = TMR5CN^3;          /* Timer 5 Split-Mode Enable              */
  00CA          +1   255     sbit TR5      = TMR5CN^2;          /* Timer 5 Run Enable                     */
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE     5

                +1   256                                        
  00C8          +1   257     sbit T5XCLK   = TMR5CN^0;          /* Timer 5 Clk/8 Clock Source             */
                +1   258     
                +1   259     
  00D7          +1   260     sbit CY       = PSW^7;             /* Carry Flag                             */
  00D6          +1   261     sbit AC       = PSW^6;             /* Auxiliary Carry Flag                   */
  00D5          +1   262     sbit F0       = PSW^5;             /* User Flag 0                            */
  00D4          +1   263     sbit RS1      = PSW^4;             /* Register Bank Select 1                 */
  00D3          +1   264     sbit RS0      = PSW^3;             /* Register Bank Select 0                 */
  00D2          +1   265     sbit OV       = PSW^2;             /* Overflow Flag                          */
  00D1          +1   266     sbit F1       = PSW^1;             /* User Flag 1                            */
  00D0          +1   267     sbit PARITY   = PSW^0;             /* Accumulator Parity Flag                */
                +1   268     
                +1   269     
  00DF          +1   270     sbit CF       = PCA0CN^7;          /* PCA0 Counter Overflow Flag             */
  00DE          +1   271     sbit CR       = PCA0CN^6;          /* PCA0 Counter Run Control Bit           */
                +1   272                                        
  00DC          +1   273     sbit CCF4     = PCA0CN^4;          /* PCA0 Module 4 Capture/Compare Flag     */
  00DB          +1   274     sbit CCF3     = PCA0CN^3;          /* PCA0 Module 3 Capture/Compare Flag     */
  00DA          +1   275     sbit CCF2     = PCA0CN^2;          /* PCA0 Module 2 Capture/Compare Flag     */
  00D9          +1   276     sbit CCF1     = PCA0CN^1;          /* PCA0 Module 1 Capture/Compare Flag     */
  00D8          +1   277     sbit CCF0     = PCA0CN^0;          /* PCA0 Module 0 Capture/Compare Flag     */
                +1   278     
                +1   279     
  00EF          +1   280     sbit AD0EN    = ADC0CN^7;          /* ADC0 Enable                            */
  00EE          +1   281     sbit AD0TM    = ADC0CN^6;          /* ADC0 Track Mode Bit                    */
  00ED          +1   282     sbit AD0INT   = ADC0CN^5;          /* ADC0 Conversion Complete Interrupt Flag*/
  00EC          +1   283     sbit AD0BUSY  = ADC0CN^4;          /* ADC0 Busy Flag                         */
  00EB          +1   284     sbit AD0WINT  = ADC0CN^3;          /* ADC0 Window Compare Interrupt Flag     */
  00EA          +1   285     sbit AD0CM2   = ADC0CN^2;          /* ADC0 Start Of Conversion Mode Bit 2    */
  00E9          +1   286     sbit AD0CM1   = ADC0CN^1;          /* ADC0 Start Of Conversion Mode Bit 1    */
  00E8          +1   287     sbit AD0CM0   = ADC0CN^0;          /* ADC0 Start Of Conversion Mode Bit 0    */
                +1   288     
                +1   289     
  00FF          +1   290     sbit SPIF     = SPI0CN^7;          /* SPI0 Interrupt Flag                    */
  00FE          +1   291     sbit WCOL     = SPI0CN^6;          /* SPI0 Write Collision Flag              */
  00FD          +1   292     sbit MODF     = SPI0CN^5;          /* SPI0 Mode Fault Flag                   */
  00FC          +1   293     sbit RXOVRN   = SPI0CN^4;          /* SPI0 RX Overrun Flag                   */
  00FB          +1   294     sbit NSSMD1   = SPI0CN^3;          /* SPI0 Slave Select Mode 1               */
  00FA          +1   295     sbit NSSMD0   = SPI0CN^2;          /* SPI0 Slave Select Mode 0               */
  00F9          +1   296     sbit TXBMT    = SPI0CN^1;          /* SPI0 TX Buffer Empty Flag              */
  00F8          +1   297     sbit SPIEN    = SPI0CN^0;          /* SPI0 Enable                            */
                +1   298     
                +1   299     
                +1   300     
                     301     
                     302     
  0086               303     K_SET EQU P0.6
  0087               304     K_LOAD EQU P0.7
  0000               305     S_RECOVER EQU 0
  0001               306     S_LOCKED EQU 1
  0002               307     S_DECRYPT EQU 2
  0003               308     S_OPEN EQU 3
  0004               309     S_ENCRYPT EQU 4
  0005               310     S_FAIL EQU 5
  0006               311     S_BLOCKED EQU 6
                     312             
----                 313     DSEG AT 30H
0030                 314             STATE: DS 1
0031                 315             NEXT_STATE: DS 1
0032                 316             COUNT: DS 1       
0033                 317             INDEX: DS 1     
0034                 318             TENTATIVAS_INVALIDAS: DS 1
----                 319     ISEG AT 80H
0080                 320             DIGIT_1: DS 1
                     321     
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE     6

----                 322     CSEG AT 0H
0000 01F0            323             JMP INIT
----                 324     CSEG AT 2BH
002B B290            325             CPL P1.0
002D 32              326     RETI
----                 327     CSEG AT 0F0H
00F0                 328             INIT:
00F0 75A5FF          329                     MOV P1MDOUT,#0FFH ; push pull
00F3 75B690          330                     MOV FLSCL, #90H ;48mhz
00F6 75A903          331                     MOV CLKSEL, #3
00F9 75D900          332                     MOV PCA0MD, #0 ;DESLIGAR WDT
00FC 75E240          333                     MOV XBR1, #40H
00FF 753000          334                     MOV STATE,#S_RECOVER
0102 753100          335                     MOV NEXT_STATE,#S_RECOVER
0105 753400          336                     MOV TENTATIVAS_INVALIDAS,#0H
                     337     
                     338     ;-------MAQUINA-DE-ESTADOS-----------------;
0108                 339     STATE_MACHINE:
0108 853130          340             MOV STATE, NEXT_STATE
010B 3115            341             CALL STATE_JMP
010D 3086FD          342             JNB K_SET, $
0110 3087FD          343             JNB K_LOAD, $
0113 80F3            344             JMP STATE_MACHINE
                     345             
0115                 346     STATE_JMP:
0115 E530            347             MOV A, STATE
0117 23              348             RL A
0118 90011C          349             MOV DPTR, #TABLE_STATE_JUMP
011B 73              350             JMP @A+DPTR     
011C                 351     TABLE_STATE_JUMP:
011C 21CC            352             AJMP ROT_RECOVER
011E 212A            353             AJMP ROT_LOCKED
0120 2179            354             AJMP ROT_DECRYPT
0122 213C            355             AJMP ROT_OPEN
0124 2166            356             AJMP ROT_ENCRYPT
0126 2191            357             AJMP ROT_FAIL
0128 21AD            358             AJMP ROT_BLOCKED
                     359     ;----------ESTADO-LOCKED------------------------------------------;
012A                 360     ROT_LOCKED:             
012A 75C701          361     MOV P4,#1                                               ;tensao de bloqueio ativada
012D 75A0C7          362     MOV P2,#0C7H                                    ;apresenta o caracter 'L' no display
0130 2086FD          363     JB K_SET,$
0133 3086FD          364     JNB K_SET,$
0136 31DC            365     CALL SUB_ROT_4DIGITS                    ;rotina para colocar escolher 4 digitos atraves dos
                              botoes e do display
0138                 366     NEXT_STATE_LOCKED_DECRYPT:              ;no fim da escolha o único estado possível é o esta
                             do decrypt
0138 753102          367     MOV NEXT_STATE, #S_DECRYPT
013B 22              368     RET
                     369     ;---------------ESTADO-OPEN-------------------;
013C                 370     ROT_OPEN:
013C 75A0C0          371     MOV P2,#0C0H                                    ;apresenta no display o caractér 'O'
013F 753400          372     MOV TENTATIVAS_INVALIDAS,#0H    ;limpa o numero de tentativas de falha de abertura
0142 75C700          373     MOV P4,#0                                               ;tensão de bloqueio a zero
0145 7A1E            374     MOV R2,#30                                              ;30 * 500ms = 15s
0147                 375     BLINK_DISPLAY:
0147 75A040          376             MOV P2,#040H                            ;apresenta o caracter '0' com o ponto ligado
014A 30870E          377             JNB K_LOAD,NEXT_STATE_OPEN_LOCKED
014D 515D            378             ACALL ROT_DELAY500
014F 75A0C0          379             MOV P2,#0C0H                            ;apresenta o caracter '0' com o ponto desli
                             gado
0152 515D            380             ACALL ROT_DELAY500
0154 308704          381             JNB K_LOAD,NEXT_STATE_OPEN_LOCKED
0157 DAEE            382             DJNZ R2,BLINK_DISPLAY
0159 2162            383             AJMP NEXT_STATE_OPEN_ENCRYPT
                     384     
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE     7

015B                 385             NEXT_STATE_OPEN_LOCKED:
015B 3087FD          386                     JNB K_LOAD,$
015E 753101          387                     MOV NEXT_STATE,#S_LOCKED
0161 22              388                     RET     
0162                 389             NEXT_STATE_OPEN_ENCRYPT:
0162 753104          390                     MOV NEXT_STATE,#S_ENCRYPT
0165 22              391                     RET
                     392                     
                     393     ;-------------Estado-Encrypt-------------------------------;
0166                 394     ROT_ENCRYPT:
0166 31DC            395     CALL SUB_ROT_4DIGITS
0168 7880            396     MOV R0,#DIGIT_1
016A 7A04            397     MOV R2,#4
016C                 398     ENCRYPT_DIGITS:
016C E6              399             MOV A,@R0
016D 7600            400             MOV @R0,#0H                                     ;limpar o byte que guarda o digito
016F 647B            401             XRL A,#123                                      ;xor com 1234h para obter o digito 
                             da passe encriptada
0171 F2              402             MOVX @R0,A                                      ;mover para a memória externa o dig
                             ito
0172 08              403             INC R0                                          ;incrementar r0 para este apontar p
                             ara o proximo digito
0173 DAF7            404             DJNZ R2,ENCRYPT_DIGITS          ;decrementar r4 de 4 até zero para transformar  e g
                             uardar os 4 digitos
0175                 405     NEXT_STATE_ENCRYPT_LOCKED:
0175 753101          406             MOV NEXT_STATE,#S_LOCKED
0178 22              407             RET
                     408             
                     409             
                     410     ;-----------Estado-Decrypt----------------------
0179                 411     ROT_DECRYPT:
0179 7880            412             MOV R0,#DIGIT_1             ;coloca em r0 a posiçao do primeiro digito
017B 7A04            413             MOV R2,#4                                       ;ciclo vai fazer-se 4x
017D                 414     DECRYPT_DIGITS:                         
017D E2              415             MOVX A,@R0                                      ;coloca o digito encriptado no acum
                             ulador
017E 647B            416             XRL A,#123                              ;desencripta o digito
0180 C3              417             CLR C                                           ;limpar carry para fazer a subtraçao
0181 96              418             SUBB A,@R0                                      ;verifica de o digito da chave é ig
                             ual ao selecionado pelo utilizador
0182 7600            419             MOV @R0,#0                                      ;limpa o digito selecionado pelo ut
                             ilizador de modo a nao ficar a chave explicita na memoria
0184 7007            420             JNZ NEXT_STATE_DECRYPT_FAIL     ;se um digito nao for igual entao o proximo estado 
                             é o estado fail
0186 08              421             INC R0
0187 DAF4            422             DJNZ R2,DECRYPT_DIGITS          ;se o digito for igual, verifica os proximos até 4 
                             digitos
0189                 423     NEXT_STATE_DECRYPT_OPEN:
0189 753103          424             MOV NEXT_STATE,#S_OPEN
018C 22              425             RET
018D                 426     NEXT_STATE_DECRYPT_FAIL:
018D 753105          427             MOV NEXT_STATE,#S_FAIL
0190 22              428             RET
                     429             
                     430             
                     431     ;--------Estado-Fail------------------;
0191                 432     ROT_FAIL:
0191 75A08E          433             MOV P2,#08EH                                    ;apresenta o caracter 'F' no display
0194 0534            434             INC TENTATIVAS_INVALIDAS                ;numero de vezes que falhou a chave increme
                             nta
0196 E534            435             MOV A,TENTATIVAS_INVALIDAS
0198 C3              436             CLR C
0199 9406            437             SUBB A,#6                                               ;verifica se o numero de te
                             ntativas falhadas ja ultrapassou os 5
019B 600C            438             JZ NEXT_STATE_FAIL_BLOCKED              ;se sim o proximo estado é o de bloqueio
019D AA34            439             MOV R2,TENTATIVAS_INVALIDAS     
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE     8

019F                 440             WAIT_TIME:
019F 5119            441                     CALL ROT_DELAY_10S                              ;espera de 10 segundos até 
                             a proxima tentativa
01A1 DAFC            442                     DJNZ R2,WAIT_TIME                               ;10 segundos por cada tenta
                             tiva falhada 
01A3                 443             NEXT_STATE_FAIL_DECRYPT:
01A3 31DC            444                     CALL SUB_ROT_4DIGITS                    ;escolha de 4 novos digitos
01A5 753102          445                     MOV NEXT_STATE,#S_DECRYPT               ;proximo estado é o decrypt
01A8 22              446                     RET
01A9                 447             NEXT_STATE_FAIL_BLOCKED:
01A9 753106          448                     MOV NEXT_STATE, #S_BLOCKED                              ;depois das 5 tenta
                             tivas invalidas a fechadura bloqueia
01AC 22              449                     RET
                     450                     
                     451     ;----- ROT_BLOCKED-------------
01AD                 452     ROT_BLOCKED:                                                                               
                                  
01AD 75CCFF          453                     MOV TMR2L,#LOW(-1)
01B0 75CDFF          454                     MOV TMR2H,#HIGH(-1)
01B3 D2AD            455                     SETB ET2                                
01B5 D2CA            456                     SETB TR2
01B7 D2AF            457                     SETB EA
01B9                 458             M_LOOP:
01B9 75A083          459                     MOV P2,#083H
01BC 515D            460                     CALL ROT_DELAY500
01BE 75A0FF          461                     MOV P2,#0FFH
01C1 515D            462                     CALL ROT_DELAY500
01C3 209702          463                     JB P1.7,NEXT_STATE_BLOCKED_RECOVER      
01C6 80F1            464                     JMP M_LOOP
01C8                 465                     NEXT_STATE_BLOCKED_RECOVER:
01C8 753100          466                     MOV NEXT_STATE,#S_RECOVER
01CB 22              467     RET             
                     468     
                     469     
                     470     ;------ ROT_RECOVER-----------
01CC                 471     ROT_RECOVER:                                     ; A Rotina recover inicializa a palavra pa
                             sse a 0000.
01CC 7880            472     MOV R0,#DIGIT_1
01CE 7A04            473     MOV R2,#4
01D0                 474     RECOVER_DIGITS:
01D0 7400            475             MOV A,#0
01D2 647B            476             XRL A,#123                                      ;xor com 123 para obter o digito da
                              passe encriptada
01D4 F2              477             MOVX @R0,A                                      ;mover para a memória externa o dig
                             ito
01D5 08              478             INC R0                                          ;incrementar r0 para este apontar p
                             ara o proximo digito
01D6 DAF8            479             DJNZ R2,RECOVER_DIGITS          ;decrementar r4 de 4 até zero para transformar  e g
                             uardar os 4 digitos
01D8                 480     NEXT_STATE_RECOVER_LOCKED:
01D8 753101          481     MOV NEXT_STATE,#S_LOCKED
01DB 22              482     RET
                     483     ;------------SubRotina-Selecionar-4Digitos-----------------;
01DC                 484     SUB_ROT_4DIGITS:
01DC 753200          485             MOV COUNT,#0                                    ;contador inicializado a zero
01DF 7880            486             MOV R0,#DIGIT_1                                 ;r0 toma o valor da memoria do prim
                             eiro digito no array de digitos que serão selecionados pelo utilizador
01E1                 487     CICLO_FOR_4X:
01E1 E532            488             MOV A,COUNT                             ;move o valor da contagem para A
01E3 C3              489             CLR C                                           ;limpar carry para fazer a subtração
01E4 9404            490             SUBB A,#4                                       ;verifica se ja foram selecionados 
                             4 digitos
01E6 6030            491             JZ CICLE_END                            ;se ja tiverem sido selecionados 4 digitos 
                             a subrotina acaba
01E8 753300          492             MOV INDEX,#0                                    ;index inicializado a zero
01EB                 493             ROT_DISPLAY:
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE     9

01EB E533            494                     MOV A,INDEX                     ;ao premir K_SET A toma o vaor de index
01ED 517F            495                     CALL ROT_DISPLAY7S      ;o valor de index que foi passado para o Acumulador
                              aparece no display
01EF                 496             BD1_LCK:
01EF 208706          497                     JB K_LOAD,BD3_LCK 
01F2                 498             BD2_LCK:
01F2 3087FD          499                     JNB K_LOAD,BD2_LCK
01F5 208709          500                     JB K_LOAD,BA1_LCK
01F8                 501             BD3_LCK:
01F8 2086F4          502                     JB K_SET,BD1_LCK
01FB                 503             BD4_LCK:
01FB 3086FD          504                     JNB K_SET,BD4_LCK
01FE 20860C          505                     JB K_SET,BA2_LCK 
0201                 506             BA1_LCK:                                ;Quando K_Load é premido segnifica que o ut
                             ilizador selecionou esse numero
0201 75A0FF          507                     MOV P2,#0FFH
0204 515D            508                     CALL ROT_DELAY500
0206 A633            509                     MOV @R0,INDEX                   ;O Index é colocado na posiçao do array par
                             a a qual R0 aponta 
0208 08              510                     INC R0                                  ;incrementar r0 para que ele aponte
                              para a posição seguinte
0209 0532            511                     INC COUNT
020B 80D4            512                     JMP CICLO_FOR_4X                ;volta para o inicio do ciclo para escolher
                              o proximo valor
020D                 513             BA2_LCK:                                        ;ao carregar no K_SET o utilizador 
                             pretende incrementar o valor no Display
020D E533            514                     MOV A,INDEX             ;A toma o valor de Index
020F C3              515                     CLR C                                   ;limpar carry para fazer a subtração
0210 940F            516                     SUBB A,#15                              ;verifica se o valor no display ja 
                             chegou a F
0212 0533            517                     INC INDEX                               ;incrementa Index para apresentar o
                              proximo valor no display
0214 60CB            518                     JZ CICLO_FOR_4X                 ;volta para o dislpay
0216 80D3            519                     JMP ROT_DISPLAY
0218                 520             CICLE_END:
0218 22              521             RET
                     522             
                     523     ;---------10-SEGUNDOS-DELAY---------------------------
0219                 524     ROT_DELAY_10S:
0219 C0E0            525             PUSH ACC
021B C0D0            526             PUSH PSW
021D 758E02          527             MOV CKCON,#2
0220 758910          528             MOV TMOD,#10H   ; temporizador de 16 bit
0223 C28F            529             CLR TF1
0225 D28E            530             SETB TR1
0227 7B64            531             MOV R3,#100
0229                 532             R_CONT_10S:
0229 758BB0          533                     MOV TL1,#LOW(-50000)
022C 758D3C          534                     MOV TH1,#HIGH(-50000)
022F 308FFD          535                     JNB TF1,$
0232 C28F            536                     CLR TF1
0234 DBF3            537                     DJNZ R3,R_CONT_10S
0236 D0E0            538                     POP ACC
0238 D0D0            539                     POP PSW
023A 22              540     RET
                     541             
                     542     ;----------5-SEGUNDOS-DELAY--------------------------
023B                 543     ROT_DELAY_5S:
023B C0E0            544             PUSH ACC
023D C0D0            545             PUSH PSW
023F 758E02          546             MOV CKCON,#2
0242 758910          547             MOV TMOD,#10H   ; temporizador de 16 bit
0245 C28F            548             CLR TF1
0247 D28E            549             SETB TR1
0249 7B64            550             MOV R3,#100
024B                 551             R_CONT_5S:
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE    10

024B 758BB0          552                     MOV TL1,#LOW(-50000)
024E 758D3C          553                     MOV TH1,#HIGH(-50000)
0251 308FFD          554                     JNB TF1,$
0254 C28F            555                     CLR TF1
0256 DBF3            556                     DJNZ R3,R_CONT_5S
0258 D0E0            557                     POP ACC
025A D0D0            558                     POP PSW
025C 22              559     RET
                     560                     
                     561     ;---------------ROTINA-DE-DELAY-500MS-------------------------
025D                 562     ROT_DELAY500:
025D C0E0            563             PUSH ACC
025F C0D0            564             PUSH PSW
0261 758E02          565             MOV CKCON,#2
0264 758910          566             MOV TMOD,#10H   ; temporizador de 16 bit
0267 C28F            567             CLR TF1
0269 D28E            568             SETB TR1
026B 7B0A            569             MOV R3,#10
026D                 570     RDEL_LOOP:
026D 758BB0          571         MOV TL1,#LOW(-50000)        ; reload tem de ser por instruções
0270 758D3C          572             MOV TH1,#HIGH(-50000)
0273 308FFD          573         JNB TF1,$
0276 C28F            574             CLR TF1
0278 DBF3            575             DJNZ R3,RDEL_LOOP
027A D0D0            576             POP PSW
027C D0E0            577             POP ACC
027E 22              578     RET
                     579     ;---------- DISPLAY --------------------
027F                 580     ROT_DISPLAY7S:
027F 901000          581             MOV DPTR,#1000H
0282 93              582             MOVC A, @A+DPTR
0283 F5A0            583             MOV P2, A
0285 22              584             RET
----                 585     CSEG AT 1000H 
1000 C0F9A4B0        586     DB 0C0H, 0F9H, 0A4H, 0B0H, 099H, 092H, 082H, 0F8H, 080H, 090H,088H,083H,0C6H,0A1H,086H,08EH
1004 999282F8                
1008 80908883                
100C C6A1868E                
                     587             END
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE    11

SYMBOL TABLE LISTING
------ ----- -------


N A M E                     T Y P E  V A L U E   ATTRIBUTES

AC . . . . . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . . . . . .  D ADDR   00E0H   A   
ACK0 . . . . . . . . . . .  B ADDR   00C0H.1 A   
ACK1 . . . . . . . . . . .  B ADDR   00C0H.1 A   
ACKRQ0 . . . . . . . . . .  B ADDR   00C0H.3 A   
ACKRQ1 . . . . . . . . . .  B ADDR   00C0H.3 A   
AD0BUSY. . . . . . . . . .  B ADDR   00E8H.4 A   
AD0CM0 . . . . . . . . . .  B ADDR   00E8H.0 A   
AD0CM1 . . . . . . . . . .  B ADDR   00E8H.1 A   
AD0CM2 . . . . . . . . . .  B ADDR   00E8H.2 A   
AD0EN. . . . . . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . . . . . .  B ADDR   00E8H.5 A   
AD0TM. . . . . . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . . . . . .  B ADDR   00E8H.3 A   
ADC0 . . . . . . . . . . .    ----   -----       
ADC0CF . . . . . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . . . . . .  D ADDR   00E8H   A   
ADC0GT . . . . . . . . . .    ----   -----       
ADC0GTH. . . . . . . . . .  D ADDR   00C4H   A   
ADC0GTL. . . . . . . . . .  D ADDR   00C3H   A   
ADC0H. . . . . . . . . . .  D ADDR   00BEH   A   
ADC0L. . . . . . . . . . .  D ADDR   00BDH   A   
ADC0LT . . . . . . . . . .    ----   -----       
ADC0LTH. . . . . . . . . .  D ADDR   00C6H   A   
ADC0LTL. . . . . . . . . .  D ADDR   00C5H   A   
AMX0N. . . . . . . . . . .  D ADDR   00BAH   A   
AMX0P. . . . . . . . . . .  D ADDR   00BBH   A   
ARBLOST0 . . . . . . . . .  B ADDR   00C0H.2 A   
ARBLOST1 . . . . . . . . .  B ADDR   00C0H.2 A   
B. . . . . . . . . . . . .  D ADDR   00F0H   A   
BA1_LCK. . . . . . . . . .  C ADDR   0201H   A   
BA2_LCK. . . . . . . . . .  C ADDR   020DH   A   
BD1_LCK. . . . . . . . . .  C ADDR   01EFH   A   
BD2_LCK. . . . . . . . . .  C ADDR   01F2H   A   
BD3_LCK. . . . . . . . . .  C ADDR   01F8H   A   
BD4_LCK. . . . . . . . . .  C ADDR   01FBH   A   
BLINK_DISPLAY. . . . . . .  C ADDR   0147H   A   
CCF0 . . . . . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . . . . . .  B ADDR   00D8H.4 A   
CF . . . . . . . . . . . .  B ADDR   00D8H.7 A   
CICLE_END. . . . . . . . .  C ADDR   0218H   A   
CICLO_FOR_4X . . . . . . .  C ADDR   01E1H   A   
CKCON. . . . . . . . . . .  D ADDR   008EH   A   
CKCON1 . . . . . . . . . .  D ADDR   00E4H   A   
CLKMUL . . . . . . . . . .  D ADDR   00B9H   A   
CLKSEL . . . . . . . . . .  D ADDR   00A9H   A   
COUNT. . . . . . . . . . .  D ADDR   0032H   A   
CPT0CN . . . . . . . . . .  D ADDR   009BH   A   
CPT0MD . . . . . . . . . .  D ADDR   009DH   A   
CPT0MX . . . . . . . . . .  D ADDR   009FH   A   
CPT1CN . . . . . . . . . .  D ADDR   009AH   A   
CPT1MD . . . . . . . . . .  D ADDR   009CH   A   
CPT1MX . . . . . . . . . .  D ADDR   009EH   A   
CR . . . . . . . . . . . .  B ADDR   00D8H.6 A   
CY . . . . . . . . . . . .  B ADDR   00D0H.7 A   
DECRYPT_DIGITS . . . . . .  C ADDR   017DH   A   
DIGIT_1. . . . . . . . . .  I ADDR   0080H   A   
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE    12

DP . . . . . . . . . . . .    ----   -----       
DPH. . . . . . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . . . . . .  D ADDR   00E6H   A   
EIE2 . . . . . . . . . . .  D ADDR   00E7H   A   
EIP1 . . . . . . . . . . .  D ADDR   00F6H   A   
EIP2 . . . . . . . . . . .  D ADDR   00F7H   A   
EMI0CF . . . . . . . . . .  D ADDR   0085H   A   
EMI0CN . . . . . . . . . .  D ADDR   00AAH   A   
EMI0TC . . . . . . . . . .  D ADDR   0084H   A   
ENCRYPT_DIGITS . . . . . .  C ADDR   016CH   A   
ES0. . . . . . . . . . . .  B ADDR   00A8H.4 A   
ESPI0. . . . . . . . . . .  B ADDR   00A8H.6 A   
ET0. . . . . . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . . . . . .  B ADDR   00A8H.2 A   
F0 . . . . . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . . . . . .  B ADDR   00D0H.1 A   
FLKEY. . . . . . . . . . .  D ADDR   00B7H   A   
FLSCL. . . . . . . . . . .  D ADDR   00B6H   A   
IE . . . . . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . . . . . .  B ADDR   0088H.3 A   
INDEX. . . . . . . . . . .  D ADDR   0033H   A   
INIT . . . . . . . . . . .  C ADDR   00F0H   A   
IP . . . . . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . . . . . .  B ADDR   0088H.0 A   
IT01CF . . . . . . . . . .  D ADDR   00E4H   A   
IT1. . . . . . . . . . . .  B ADDR   0088H.2 A   
K_LOAD . . . . . . . . . .  B ADDR   0080H.7 A   
K_SET. . . . . . . . . . .  B ADDR   0080H.6 A   
MASTER0. . . . . . . . . .  B ADDR   00C0H.7 A   
MASTER1. . . . . . . . . .  B ADDR   00C0H.7 A   
MCE0 . . . . . . . . . . .  B ADDR   0098H.5 A   
MODF . . . . . . . . . . .  B ADDR   00F8H.5 A   
M_LOOP . . . . . . . . . .  C ADDR   01B9H   A   
NEXT_STATE . . . . . . . .  D ADDR   0031H   A   
NEXT_STATE_BLOCKED_RECOVER  C ADDR   01C8H   A   
NEXT_STATE_DECRYPT_FAIL. .  C ADDR   018DH   A   
NEXT_STATE_DECRYPT_OPEN. .  C ADDR   0189H   A   
NEXT_STATE_ENCRYPT_LOCKED.  C ADDR   0175H   A   
NEXT_STATE_FAIL_BLOCKED. .  C ADDR   01A9H   A   
NEXT_STATE_FAIL_DECRYPT. .  C ADDR   01A3H   A   
NEXT_STATE_LOCKED_DECRYPT.  C ADDR   0138H   A   
NEXT_STATE_OPEN_ENCRYPT. .  C ADDR   0162H   A   
NEXT_STATE_OPEN_LOCKED . .  C ADDR   015BH   A   
NEXT_STATE_RECOVER_LOCKED.  C ADDR   01D8H   A   
NSSMD0 . . . . . . . . . .  B ADDR   00F8H.2 A   
NSSMD1 . . . . . . . . . .  B ADDR   00F8H.3 A   
OSCICL . . . . . . . . . .  D ADDR   00B3H   A   
OSCICN . . . . . . . . . .  D ADDR   00B2H   A   
OSCLCN . . . . . . . . . .  D ADDR   0086H   A   
OSCXCN . . . . . . . . . .  D ADDR   00B1H   A   
OV . . . . . . . . . . . .  B ADDR   00D0H.2 A   
P0 . . . . . . . . . . . .  D ADDR   0080H   A   
P0MDIN . . . . . . . . . .  D ADDR   00F1H   A   
P0MDOUT. . . . . . . . . .  D ADDR   00A4H   A   
P0SKIP . . . . . . . . . .  D ADDR   00D4H   A   
P1 . . . . . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . . . . . .  D ADDR   00F2H   A   
P1MDOUT. . . . . . . . . .  D ADDR   00A5H   A   
P1SKIP . . . . . . . . . .  D ADDR   00D5H   A   
P2 . . . . . . . . . . . .  D ADDR   00A0H   A   
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE    13

P2MDIN . . . . . . . . . .  D ADDR   00F3H   A   
P2MDOUT. . . . . . . . . .  D ADDR   00A6H   A   
P2SKIP . . . . . . . . . .  D ADDR   00D6H   A   
P3 . . . . . . . . . . . .  D ADDR   00B0H   A   
P3MDIN . . . . . . . . . .  D ADDR   00F4H   A   
P3MDOUT. . . . . . . . . .  D ADDR   00A7H   A   
P3SKIP . . . . . . . . . .  D ADDR   00DFH   A   
P4 . . . . . . . . . . . .  D ADDR   00C7H   A   
P4MDIN . . . . . . . . . .  D ADDR   00F5H   A   
P4MDOUT. . . . . . . . . .  D ADDR   00AEH   A   
PARITY . . . . . . . . . .  B ADDR   00D0H.0 A   
PCA0 . . . . . . . . . . .    ----   -----       
PCA0CN . . . . . . . . . .  D ADDR   00D8H   A   
PCA0CP0. . . . . . . . . .    ----   -----       
PCA0CP1. . . . . . . . . .    ----   -----       
PCA0CP2. . . . . . . . . .    ----   -----       
PCA0CP3. . . . . . . . . .    ----   -----       
PCA0CP4. . . . . . . . . .    ----   -----       
PCA0CPH0 . . . . . . . . .  D ADDR   00FCH   A   
PCA0CPH1 . . . . . . . . .  D ADDR   00EAH   A   
PCA0CPH2 . . . . . . . . .  D ADDR   00ECH   A   
PCA0CPH3 . . . . . . . . .  D ADDR   00EEH   A   
PCA0CPH4 . . . . . . . . .  D ADDR   00FEH   A   
PCA0CPL0 . . . . . . . . .  D ADDR   00FBH   A   
PCA0CPL1 . . . . . . . . .  D ADDR   00E9H   A   
PCA0CPL2 . . . . . . . . .  D ADDR   00EBH   A   
PCA0CPL3 . . . . . . . . .  D ADDR   00EDH   A   
PCA0CPL4 . . . . . . . . .  D ADDR   00FDH   A   
PCA0CPM0 . . . . . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . . . . . .  D ADDR   00DBH   A   
PCA0CPM2 . . . . . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . . . . . .  D ADDR   00DDH   A   
PCA0CPM4 . . . . . . . . .  D ADDR   00DEH   A   
PCA0H. . . . . . . . . . .  D ADDR   00FAH   A   
PCA0L. . . . . . . . . . .  D ADDR   00F9H   A   
PCA0MD . . . . . . . . . .  D ADDR   00D9H   A   
PCON . . . . . . . . . . .  D ADDR   0087H   A   
PFE0CN . . . . . . . . . .  D ADDR   00AFH   A   
PS0. . . . . . . . . . . .  B ADDR   00B8H.4 A   
PSCTL. . . . . . . . . . .  D ADDR   008FH   A   
PSPI0. . . . . . . . . . .  B ADDR   00B8H.6 A   
PSW. . . . . . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . . . . . .  B ADDR   00B8H.2 A   
RB80 . . . . . . . . . . .  B ADDR   0098H.2 A   
RDEL_LOOP. . . . . . . . .  C ADDR   026DH   A   
RECOVER_DIGITS . . . . . .  C ADDR   01D0H   A   
REF0CN . . . . . . . . . .  D ADDR   00D1H   A   
REG01CN. . . . . . . . . .  D ADDR   00C9H   A   
REN0 . . . . . . . . . . .  B ADDR   0098H.4 A   
RI0. . . . . . . . . . . .  B ADDR   0098H.0 A   
ROT_BLOCKED. . . . . . . .  C ADDR   01ADH   A   
ROT_DECRYPT. . . . . . . .  C ADDR   0179H   A   
ROT_DELAY500 . . . . . . .  C ADDR   025DH   A   
ROT_DELAY_10S. . . . . . .  C ADDR   0219H   A   
ROT_DELAY_5S . . . . . . .  C ADDR   023BH   A   
ROT_DISPLAY. . . . . . . .  C ADDR   01EBH   A   
ROT_DISPLAY7S. . . . . . .  C ADDR   027FH   A   
ROT_ENCRYPT. . . . . . . .  C ADDR   0166H   A   
ROT_FAIL . . . . . . . . .  C ADDR   0191H   A   
ROT_LOCKED . . . . . . . .  C ADDR   012AH   A   
ROT_OPEN . . . . . . . . .  C ADDR   013CH   A   
ROT_RECOVER. . . . . . . .  C ADDR   01CCH   A   
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE    14

RS0. . . . . . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . . . . . .  D ADDR   00EFH   A   
RXOVRN . . . . . . . . . .  B ADDR   00F8H.4 A   
R_CONT_10S . . . . . . . .  C ADDR   0229H   A   
R_CONT_5S. . . . . . . . .  C ADDR   024BH   A   
S0MODE . . . . . . . . . .  B ADDR   0098H.7 A   
SBCON1 . . . . . . . . . .  D ADDR   00ACH   A   
SBRL1. . . . . . . . . . .    ----   -----       
SBRLH1 . . . . . . . . . .  D ADDR   00B5H   A   
SBRLL1 . . . . . . . . . .  D ADDR   00B4H   A   
SBUF0. . . . . . . . . . .  D ADDR   0099H   A   
SBUF1. . . . . . . . . . .  D ADDR   00D3H   A   
SCON0. . . . . . . . . . .  D ADDR   0098H   A   
SCON1. . . . . . . . . . .  D ADDR   00D2H   A   
SFRPAGE. . . . . . . . . .  D ADDR   00BFH   A   
SI0. . . . . . . . . . . .  B ADDR   00C0H.0 A   
SI1. . . . . . . . . . . .  B ADDR   00C0H.0 A   
SMB0ADM. . . . . . . . . .  D ADDR   00CEH   A   
SMB0ADR. . . . . . . . . .  D ADDR   00CFH   A   
SMB0CF . . . . . . . . . .  D ADDR   00C1H   A   
SMB0CN . . . . . . . . . .  D ADDR   00C0H   A   
SMB0DAT. . . . . . . . . .  D ADDR   00C2H   A   
SMB1ADM. . . . . . . . . .  D ADDR   00CEH   A   
SMB1ADR. . . . . . . . . .  D ADDR   00CFH   A   
SMB1CF . . . . . . . . . .  D ADDR   00C1H   A   
SMB1CN . . . . . . . . . .  D ADDR   00C0H   A   
SMB1DAT. . . . . . . . . .  D ADDR   00C2H   A   
SMBTC. . . . . . . . . . .  D ADDR   00B9H   A   
SMOD1. . . . . . . . . . .  D ADDR   00E5H   A   
SP . . . . . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . . . . . .  D ADDR   00A1H   A   
SPI0CKR. . . . . . . . . .  D ADDR   00A2H   A   
SPI0CN . . . . . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . . . . . .  D ADDR   00A3H   A   
SPIEN. . . . . . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . . . . . .  B ADDR   00F8H.7 A   
STA0 . . . . . . . . . . .  B ADDR   00C0H.5 A   
STA1 . . . . . . . . . . .  B ADDR   00C0H.5 A   
STATE. . . . . . . . . . .  D ADDR   0030H   A   
STATE_JMP. . . . . . . . .  C ADDR   0115H   A   
STATE_MACHINE. . . . . . .  C ADDR   0108H   A   
STO0 . . . . . . . . . . .  B ADDR   00C0H.4 A   
STO1 . . . . . . . . . . .  B ADDR   00C0H.4 A   
SUB_ROT_4DIGITS. . . . . .  C ADDR   01DCH   A   
S_BLOCKED. . . . . . . . .  N NUMB   0006H   A   
S_DECRYPT. . . . . . . . .  N NUMB   0002H   A   
S_ENCRYPT. . . . . . . . .  N NUMB   0004H   A   
S_FAIL . . . . . . . . . .  N NUMB   0005H   A   
S_LOCKED . . . . . . . . .  N NUMB   0001H   A   
S_OPEN . . . . . . . . . .  N NUMB   0003H   A   
S_RECOVER. . . . . . . . .  N NUMB   0000H   A   
T2CSS. . . . . . . . . . .  B ADDR   00C8H.1 A   
T2SPLIT. . . . . . . . . .  B ADDR   00C8H.3 A   
T2XCLK . . . . . . . . . .  B ADDR   00C8H.0 A   
T5SPLIT. . . . . . . . . .  B ADDR   00C8H.3 A   
T5XCLK . . . . . . . . . .  B ADDR   00C8H.0 A   
TABLE_STATE_JUMP . . . . .  C ADDR   011CH   A   
TB80 . . . . . . . . . . .  B ADDR   0098H.3 A   
TCON . . . . . . . . . . .  D ADDR   0088H   A   
TENTATIVAS_INVALIDAS . . .  D ADDR   0034H   A   
TF0. . . . . . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . . . . . .  B ADDR   0088H.7 A   
TF2CEN . . . . . . . . . .  B ADDR   00C8H.4 A   
TF2H . . . . . . . . . . .  B ADDR   00C8H.7 A   
TF2L . . . . . . . . . . .  B ADDR   00C8H.6 A   
A51 MACRO ASSEMBLER  TP3MICRO8                                                            02/25/2022 18:13:09 PAGE    15

TF2LEN . . . . . . . . . .  B ADDR   00C8H.5 A   
TF5H . . . . . . . . . . .  B ADDR   00C8H.7 A   
TF5L . . . . . . . . . . .  B ADDR   00C8H.6 A   
TF5LEN . . . . . . . . . .  B ADDR   00C8H.5 A   
TH0. . . . . . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . . . . . .  D ADDR   008DH   A   
TI0. . . . . . . . . . . .  B ADDR   0098H.1 A   
TL0. . . . . . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . . . . . .  D ADDR   0089H   A   
TMR2 . . . . . . . . . . .    ----   -----       
TMR2CN . . . . . . . . . .  D ADDR   00C8H   A   
TMR2H. . . . . . . . . . .  D ADDR   00CDH   A   
TMR2L. . . . . . . . . . .  D ADDR   00CCH   A   
TMR2RL . . . . . . . . . .    ----   -----       
TMR2RLH. . . . . . . . . .  D ADDR   00CBH   A   
TMR2RLL. . . . . . . . . .  D ADDR   00CAH   A   
TMR3 . . . . . . . . . . .    ----   -----       
TMR3CN . . . . . . . . . .  D ADDR   0091H   A   
TMR3H. . . . . . . . . . .  D ADDR   0095H   A   
TMR3L. . . . . . . . . . .  D ADDR   0094H   A   
TMR3RL . . . . . . . . . .    ----   -----       
TMR3RLH. . . . . . . . . .  D ADDR   0093H   A   
TMR3RLL. . . . . . . . . .  D ADDR   0092H   A   
TMR4 . . . . . . . . . . .    ----   -----       
TMR4CN . . . . . . . . . .  D ADDR   0091H   A   
TMR4RL . . . . . . . . . .    ----   -----       
TMR4RLH. . . . . . . . . .  D ADDR   0093H   A   
TMR4RLL. . . . . . . . . .  D ADDR   0092H   A   
TMR5 . . . . . . . . . . .    ----   -----       
TMR5CN . . . . . . . . . .  D ADDR   00C8H   A   
TMR5H. . . . . . . . . . .  D ADDR   00CDH   A   
TMR5L. . . . . . . . . . .  D ADDR   00CCH   A   
TMR5RL . . . . . . . . . .    ----   -----       
TMR5RLH. . . . . . . . . .  D ADDR   00CBH   A   
TMR5RLL. . . . . . . . . .  D ADDR   00CAH   A   
TR0. . . . . . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . . . . . .  B ADDR   00C8H.2 A   
TR5. . . . . . . . . . . .  B ADDR   00C8H.2 A   
TXBMT. . . . . . . . . . .  B ADDR   00F8H.1 A   
TXMODE0. . . . . . . . . .  B ADDR   00C0H.6 A   
TXMODE1. . . . . . . . . .  B ADDR   00C0H.6 A   
USB0ADR. . . . . . . . . .  D ADDR   0096H   A   
USB0DAT. . . . . . . . . .  D ADDR   0097H   A   
USB0XCN. . . . . . . . . .  D ADDR   00D7H   A   
VDM0CN . . . . . . . . . .  D ADDR   00FFH   A   
WAIT_TIME. . . . . . . . .  C ADDR   019FH   A   
WCOL . . . . . . . . . . .  B ADDR   00F8H.6 A   
XBR0 . . . . . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . . . . . .  D ADDR   00E2H   A   
XBR2 . . . . . . . . . . .  D ADDR   00E3H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
